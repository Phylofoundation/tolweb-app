TODO: upgrade to tapestry 4