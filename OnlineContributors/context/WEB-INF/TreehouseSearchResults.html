<span jwcid="body@Block">
	<form jwcid="@Form">
        <input jwcid="@Hidden" value="ognl:callbackType"/>
        <input jwcid="@Hidden" value="ognl:instructions"/>
        <input jwcid="@Hidden" value="ognl:linkString"/>
        <input jwcid="@Hidden" value="ognl:searchPageName"/>
        <input jwcid="@Hidden" value="ognl:wrapperType"/>
        <input jwcid="@Hidden" value="ognl:returnPageName"/>
        <input jwcid="@Hidden" value="ognl:additionalValues"/>
       <span jwcid="@If" condition="ognl:isTreehouses" element="ognl:null">
        <a jwcid="@LinkSubmit" listener="ognl:listeners.searchAgain" class="trhsmanagerlink">Treehouse Mananger</a>
       </span>
	<h2 class="clear"><span jwcid="@Insert" value="ognl:capitalizedObjectType"/> Search Results</h2>
	<span jwcid="@Insert" value="ognl:instructions" raw="ognl:true"/>
    <span jwcid="@If" condition="ognl:callbackType == @org.tolweb.tapestry.TreehouseSearchResults@EDIT_PAGE || callbackType == @org.tolweb.tapestry.TreehouseSearchResults@DELETE_PAGE">
		<p>If you don't see the treehouse you are looking for, then you can 
        return to the <a jwcid="@LinkSubmit" listener="ognl:listeners.searchAgain"><strong>treehouse materials manager</strong></a> to search again</p>        
    </span>
    <span jwcid="@Else">
		<p>If you don't see the page you are looking for, then you can 
        <a jwcid="@LinkSubmit" listener="ognl:listeners.searchAgain">search again</a></p>
    </span>
      
	<table jwcid="table@contrib:Table" cellpadding="3" source="ognl:pages" columns="ognl:tableColumns"/>
	<span jwcid="titleColumnHeader@Block">Title</span>
	<span jwcid="titleColumnValue@Block">
		<a jwcid="@TreehouseTitleCondLink" isTreehouses="ognl:isTreehouses" treehouse="ognl:currentTreehouse"/>
    </span>        
	<span jwcid="editColumnHeader@Block">Preview</span>
	<span jwcid="editColumnValue@Block">
        <a jwcid="@GenericLink" renderer="ognl:rendererFactory.previewLinkRenderer" href="ognl:workingUrl">
            preview
        </a>
    </span>
	<span jwcid="historyColumnHeader@Block">Add Comments / View Page History</span>
	<span jwcid="historyColumnValue@Block">
        <span jwcid="@If" condition="ognl:canEdit" element="ognl:null">
			<a jwcid="@EditTreehouseLink" pageName="TreehouseEditNotes" 
				treehouse="ognl:currentTreehouse" anchor="commsection">comments/questions<br/> page history</a>
        </span>
    </span>    
	<span jwcid="selectColumnHeader@Block">Edit</span>
	<span jwcid="selectColumnValue@Block">
        <span jwcid="@If" condition="ognl:canEdit">
			<span jwcid="@If" condition="ognl:callbackType == @org.tolweb.tapestry.TreehouseSearchResults@EDIT_PAGE">
				<a jwcid="@EditTreehouseLink" treehouse="ognl:currentTreehouse">edit</a>
	        </span>
            <span jwcid="@Else">
		        <span jwcid="@If" condition="ognl:callbackType != @org.tolweb.tapestry.TreehouseSearchResults@EDIT_ARTICLE_NOTE">            
				    <a jwcid="@LinkSubmit" listener="ognl:listeners.performAction" selected="ognl:selectedAccPageId" tag="ognl:currentTreehouse.accessoryPageId"><span jwcid="@Insert" value="ognl:linkString"/></a>
		        </span>
	            <span jwcid="@Else">
	                <a jwcid="@ExternalLink" page="EditArticleNote" parameters="ognl:{contributor.email, contributor.password, currentTreehouse.accessoryPageId}" renderer="ognl:rendererFactory.editLinkRenderer">edit</a>
	            </span>
            </span>
        </span>
        <span jwcid="@Else">
            <span jwcid="@AccessoryPageSubmittedMessage" accPage="ognl:currentTreehouse"
                objectType="ognl:objectType"/>
        </span>        
	</span>
    </form>
    <script jwcid="@Script" script="EditObject.script" pageName="ognl:pageName" 
        editWindowName="ognl:editWindowName"/>    
</span>
<span jwcid="@WrapperChooser" block="ognl:components.body" title="Treehouse Search Results" wrapperType="ognl:wrapperType"/>